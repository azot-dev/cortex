import { reactive } from '@legendapp/state/react';
export { observer, reactive, reactiveObserver } from '@legendapp/state/react';
import { internal, isFunction, isEmpty } from '@legendapp/state';
import { forwardRef, createElement } from 'react';

if (process.env.NODE_ENV === 'development' && !internal.globalState.noDepWarn) {
    console.warn('[legend-state]: react-components are deprecated and will be removed in version 2.0. Please use the new Reactive components instead: http://www.legendapp.com/open-source/state/fine-grained-reactivity/#reactive-components.');
}
const bindables = new Set(['input', 'textarea', 'select']);
const bindInfo = { value: { handler: 'onChange', getValue: (e) => e.target.value, defaultValue: '' } };
const bindInfoInput = Object.assign({ checked: { handler: 'onChange', getValue: (e) => e.target.checked } }, bindInfo);
const Legend = new Proxy({}, {
    get(target, p) {
        if (!target[p]) {
            // Create a wrapper around createElement with the string so we can proxy it
            // eslint-disable-next-line react/display-name
            const render = forwardRef((props, ref) => {
                const propsOut = { ...props };
                if (ref && (isFunction(ref) || !isEmpty(ref))) {
                    propsOut.ref = ref;
                }
                return createElement(p, propsOut);
            });
            target[p] = reactive(render, bindables.has(p) ? (p === 'input' ? bindInfoInput : bindInfo) : undefined);
        }
        return target[p];
    },
});

export { Legend };
//# sourceMappingURL=react-components.mjs.map
